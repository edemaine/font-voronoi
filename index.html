<!DOCTYPE html>
<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:v="urn:schemas-microsoft-com:vml"
      xmlns:xlink="http://www.w3.org/1999/xlink">
  <HEAD>
    <TITLE>Voronoi Font</TITLE>
    <SCRIPT TYPE="text/javascript" src="../../js/svg.min.js"></SCRIPT>
    <SCRIPT TYPE="text/javascript" src="rhill-voronoi-core.min.js"></SCRIPT>
    <SCRIPT TYPE="text/javascript" src="font.js"></SCRIPT>
    <SCRIPT TYPE="text/javascript" src="voronoi.js"></SCRIPT>
    <STYLE TYPE="text/css">
      #warnings { background: red; color: yellow; padding: 1ex; display: none; }
      @media print {
        .noprint { display: none; }
      }
      /*TD { text-align: center; }*/
      TEXTAREA { vertical-align: middle; }
      SVG { border-top: green solid; border-bottom: green solid; }
      SVG:first-child { border-left: green solid; }
      SVG:last-child { border-right: green solid; }
      /*.space { margin-right: 50px; }*/
      .word + .word { margin-left: 50px; }

      .hideGrid .grid { display: none; }
      .hideSites .sites { display: none; }
      .hideVoronoi .voronoi { display: none; }
      .voronoi line { stroke: black; stroke-width: 0.01; stroke-linecap: round; }
      .voronoiFont .voronoi line.infinite { stroke: gray; stroke-dasharray: 0.01, 0.01; stroke-linecap: butt; }
      /* inverseFont doesn't highlight infinite lines */

/* from http://danielstern.ca/range.css/ */
input[type=range] {
  -webkit-appearance: none;
  width: 100%;
  margin: 5px 0;
}
input[type=range]:focus {
  outline: none;
}
input[type=range]::-webkit-slider-runnable-track {
  width: 100%;
  height: 5px;
  cursor: pointer;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  background: #c8c8c8;
  border-radius: 1px;
  border: 0.2px solid #010101;
}
input[type=range]::-webkit-slider-thumb {
  box-shadow: 0.9px 0.9px 1px #000031, 0px 0px 0.9px #00004b;
  border: 1px solid #00001e;
  height: 15px;
  width: 15px;
  border-radius: 15px;
  background: #80c4ff;
  cursor: pointer;
  -webkit-appearance: none;
  margin-top: -5.2px;
}
input[type=range]:focus::-webkit-slider-runnable-track {
  background: #e2e2e2;
}
input[type=range]::-moz-range-track {
  width: 100%;
  height: 5px;
  cursor: pointer;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  background: #c8c8c8;
  border-radius: 1px;
  border: 0.2px solid #010101;
}
input[type=range]::-moz-range-thumb {
  box-shadow: 0.9px 0.9px 1px #000031, 0px 0px 0.9px #00004b;
  border: 1px solid #00001e;
  height: 15px;
  width: 15px;
  border-radius: 15px;
  background: #80c4ff;
  cursor: pointer;
}
input[type=range]::-ms-track {
  width: 100%;
  height: 5px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
input[type=range]::-ms-fill-lower {
  background: #afafaf;
  border: 0.2px solid #010101;
  border-radius: 2px;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
}
input[type=range]::-ms-fill-upper {
  background: #c8c8c8;
  border: 0.2px solid #010101;
  border-radius: 2px;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
}
input[type=range]::-ms-thumb {
  box-shadow: 0.9px 0.9px 1px #000031, 0px 0px 0.9px #00004b;
  border: 1px solid #00001e;
  height: 15px;
  width: 15px;
  border-radius: 15px;
  background: #80c4ff;
  cursor: pointer;
  height: 5px;
}
input[type=range]:focus::-ms-fill-lower {
  background: #c8c8c8;
}
input[type=range]:focus::-ms-fill-upper {
  background: #e2e2e2;
}

    </STYLE>
    <STYLE TYPE="text/css" ID="svgSize">
      svg { width: 200px; height: 200px; }
    </STYLE>
    <!--#include virtual="../../analytics.html"-->
  </HEAD>
  <BODY>
    <TABLE WIDTH="100%">
      <TR>
        <TD STYLE="text-align: left; vertical-align: middle;">
          <H1><A HREF="./">Voronoi Font</A></H1>
        <TD STYLE="text-align: right; vertical-align: middle;">
          <H2>by <A HREF="http://erikdemaine.org/">Erik&nbsp;Demaine</A> and <A HREF="http://martindemaine.org">Martin&nbsp;Demaine</A>, 2017</H2>
    </TABLE>

    <P ID="warnings">
    </P>

    <TABLE id="data" WIDTH="100%" CLASS="noprint">
      <TR>
        <TD>
          <LABEL FOR="text">Enter text to render:</LABEL> &nbsp;
          <TEXTAREA NAME="text" ID="text" ROWS=4 COLS=40></TEXTAREA>
        </TD>
        <TD>
          <INPUT ID="voronoiFont" TYPE="radio" NAME="font"/><LABEL FOR="voronoiFont">Voronoi&nbsp;typeface</LABEL>
          <BR>
          <INPUT ID="inverseFont" TYPE="radio" NAME="font"/><LABEL FOR="inverseFont">Inverse&nbsp;typeface</LABEL>
        </TD>
        <TD>
          <TABLE>
            <TR>
              <TD>
                <INPUT ID="sitesVoronoi" TYPE="radio" NAME="show"/><LABEL FOR="sitesVoronoi">Sites&nbsp;and&nbsp;Voronoi</LABEL>
            <TR>
              <TD>
                <INPUT ID="sitesOnly" TYPE="radio" NAME="show"/><LABEL FOR="sitesOnly">Sites&nbsp;only</LABEL><B STYLE="visibility: hidden" ID="sitesPuzzle"> (puzzle)</B>
            <TR>
              <TD>
                <INPUT ID="voronoiOnly" TYPE="radio" NAME="show"/><LABEL FOR="voronoiOnly">Voronoi&nbsp;only</LABEL><B STYLE="visibility: hidden" ID="voronoiPuzzle"> (puzzle)</B>
          </TABLE>
        </TD>
        <TD>
          <INPUT ID="grid" TYPE="checkbox"/><LABEL FOR="grid">Grid</LABEL>
          <BR>
          <INPUT ID="draggable" TYPE="checkbox"/><LABEL FOR="draggable">Draggable</LABEL>
          <BR>
          <BUTTON STYLE="width: 100%" ID="reset">Reset</BUTTON>
        </TD>
      </TR>
    </TABLE>

    <INPUT CLASS="noprint" TYPE="range" ID="size" MIN="16" MAX="600" VALUE="200" STYLE="width: 100%" TITLE="Size of characters"/>

    <P>

    <DIV id="output" STYLE="width: 100%">
    </DIV>

    <HR CLASS="noprint">

    <P CLASS="noprint">
    The <B><A HREF="https://en.wikipedia.org/wiki/Voronoi_diagram">Voronoi
    diagram</A></B> of a set of points (called <B>sites</B>)
    decomposes the plane into cells, one for each point/site, according
    to what points are closest to that site than any other site.
    Equivalently, if you light a fire or grow a bacteria simultaneously
    from all the sites, then the cells are where each fire/bacteria goes,
    and the Voronoi diagram is where they meet each other.

    <P CLASS="noprint">
    We offer two typefaces are based on the Voronoi diagram.
    &bull;
    In the &ldquo;<B>Voronoi typeface</B>&rdquo;, the sites are arranged
    so that the Voronoi diagram looks like a letter or numeral.
    Here we rely on hiding (dashing) all Voronoi edges that go
    off to infinity (or more precisely, that exit the square frame).
    In this case, we obtain a puzzle font by hiding the Voronoi diagram,
    and just showing the sites; to decipher the letter/numeral, you have
    to compute the Voronoi diagram.
    &bull;
    In the &ldquo;<B>Inverse typeface</B>&rdquo;, the sites themselves are
    arranged to form the letter or numeral.  In this case, the Voronoi diagram
    becomes the puzzle font: to decode the letter, you must reverse engineer
    what sites would produce this Voronoi diagram.
    This problem
    <A HREF="https://www.sthu.org/research/publications/files/BHH13b.pdf">can
    be solved in polynomial time</A>; see also the related case of
    <A HREF="https://arxiv.org/abs/1308.5550">allowing additional sites</A>.

    <P CLASS="noprint">
    There are several font variations for you to play with.
    &bull;
    You can show/hide the <B>sites</B> and/or the <B>Voronoi diagram</B>,
    in particular to produce <B>puzzle fonts</B>.
    &bull;
    You can toggle visibility of the <B>grid</B> that the sites were designed
    on.
    &bull;
    <B>Draggable</B> mode lets you play with modifying the letters by
    dragging the points around, and having the Voronoi diagram dynamically
    update.  (Outside this mode, the Voronoi diagram is precomputed.)
    All changes are temporary, and will be reset if the text or font change.
    The <B>Reset</B> button will also reset all changes.
    &bull;
    The <B>slider</B> allows you to scale the size of the letters/numerals.

    <P CLASS="noprint">
    These fonts were designed in our custom
    <A HREF="voronoi.html">Voronoi Designer</A> webapp.
    Try making your own letters!
    You can play with our font designs here:
    &bull;
    Voronoi typeface: <SPAN ID="voronoiLinks"></SPAN>
    &bull;
    Inverse typeface: <SPAN ID="inverseLinks"></SPAN>

    <P CLASS="noprint">
    Check out <A HREF="http://erikdemaine.org/fonts/">other mathematical and
    puzzle fonts</A>. &bull; Feedback or not working?
    <A HREF="mailto:edemaine+fonts@mit.edu">Email Erik</A>.
  </BODY>
</HTML>
